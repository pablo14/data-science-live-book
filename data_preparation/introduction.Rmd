Introduction
===

### What is this about?

In practice, 90% of the time is spent in data preparation this book</a> does't have -yet- empirical information about how model performance increases by preparing the data.

```{r ,results="hide", echo=FALSE}
library(knitr)
opts_knit$set(base.dir = "data_preparation")
```

<style type="text/css">
.table {
    width: 40%;
}
</style>

#### Remove outliers 

Yes, model deals with this, but some noise will affect results anyway. 
If we need to report the variables used in the model, we'll end up removing outliers to not see an histogram with only one bar, and/or show not a biased mean. 
It's better to show a non-biased number than justifying the model "will handle" extreme values.

<br>

#### Don't use information from the future

<img src="back_to_the_future.png" width='250px'> 

Common mistake when starting a new predictive model project, for example:

Imagine we need to build a predictive model to know what users are likely to adquire full subscription in a software application, and this software has a ficticious feature called it `Feature A`:


```{r echo=FALSE}
d1=data.frame(user_id=rep(1:10), feature_A=c("yes","yes","yes","no","yes","no","no","no","no","no"), full_subscription=c(c("yes","yes","yes","no","yes","no","no","no","no","no"))) 
knitr::kable(d1, digits = 2)
```


We build the predictive model, we got a perfect accuracy, and an inspection throws the following: _"100% of users that have full subscription, uses Feature A"_. Some predictive algorithms report variable importance, thus `feature_A` will be at the top.

**The problem is:** `feature_A` is only availble **after the user pays** the full subcription. It cannot be used.

**The key message is**: Don't trust in perfect variables, nor perfect models. 

<br>

#### Play fair with data, let it to develop their behavior

Expanding the table of last example, we've got:

```{r echo=FALSE}
d2=data.frame(user_id=rep(1:10), q_pages_total=c(150, 5, 123, 10, 131, 5, 2, 39, 21, 25), signup_date=c(), full_subscription=c(c("yes","yes","yes","no","yes","no","no","no","no","no"))) 
knitr::kable(d2, digits = 2)
```






<br>
